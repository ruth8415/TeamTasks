<div class="task-card" (click)="openTaskDetails()">
  <div class="task-header">
    <h3 class="task-title">{{ task().title }}</h3>
    <div class="task-actions" (click)="$event.stopPropagation()">
      <button mat-icon-button (click)="openComments($event)">
        <mat-icon>chat_bubble_outline</mat-icon>
      </button>
      <button mat-icon-button (click)="editTask($event)">
        <mat-icon>edit</mat-icon>
      </button>
      <button mat-icon-button (click)="deleteTask($event)">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
  </div>
  
  <div class="task-info">
    @if (task().dueDate) {
      <span class="task-date">
        <mat-icon>event</mat-icon>
        {{ formatDate(task().dueDate) }}
      </span>
    }
    @if (task().projectName) {
      <span class="task-project">
        <mat-icon>folder</mat-icon>
        {{ task().projectName }}
      </span>
    }
    @if (task().teamName) {
      <span class="task-team">
        <mat-icon>groups</mat-icon>
        {{ task().teamName }}
      </span>
    }
  </div>
  
  <div class="task-footer">
    <span class="status-badge" [class]="'status-' + task().status">
      {{ getStatusLabel(task().status) }}
    </span>
    <span class="priority-badge" [class]="'priority-' + task().priority">
      {{ getPriorityLabel(task().priority) }}
    </span>
  </div>
</div>